<!DOCTYPE html>
<html class="loading" lang="en" data-textdirection="ltr">
  <%- include('./includes/head.ejs') %>

  <!-- BEGIN: Body-->

  <body
    class="vertical-layout vertical-menu-modern navbar-floating footer-static"
    data-open="click"
    data-menu="vertical-menu-modern"
    data-col=""
  >
    <%- include('../../includes/header.ejs') %> <%- include('../../includes/main-menu.ejs') %>
    <!-- BEGIN: Content-->
    <div class="app-content content">
      <div class="content-overlay"></div>
      <div class="header-navbar-shadow"></div>
      <div class="content-wrapper container-xxl p-0">
        <div
          class="content-body"
          style="display: flex; min-height: 700px; align-items: center; justify-content: center"
        >
          <!-- Spinner using Flex starts -->
          <div class="col-md-6 col-sm-12">
            <div class="card">
              <div class="card-header">
                <h4 class="card-title">Loading Data</h4>
              </div>
              <div class="card-body">
                <p class="card-text">
                  Please Wait Until Data Being Loaded to Server Database. You Will be redirected Automatically After
                  finish.
                </p>
                <div class="d-flex justify-content-center text-primary my-1">
                  <div class="spinner-border" role="status" aria-hidden="true"></div>
                </div>
              </div>
            </div>
          </div>
          <!-- Spinner using Flex ends -->
        </div>
      </div>
    </div>
    <!-- END: Content-->

    <%- include('../../partials/footer.ejs') %> <%- include('../../partials/scripts.ejs') %>

    <!-- BEGIN: Page Vendor JS-->
    <script src="/vendors/js/forms/wizard/bs-stepper.min.js"></script>
    <script src="/vendors/js/forms/select/select2.full.min.js"></script>
    <script src="/vendors/js/forms/validation/jquery.validate.min.js"></script>
    <!-- END: Page Vendor JS-->

    <!-- BEGIN: Page JS-->

    <!-- <script src="/js/scripts/forms/form-tooltip-valid.js"></script> -->
    <script src="/js/scripts/forms/form-number-input.js"></script>
    <script src="/vendors/js/forms/spinner/jquery.bootstrap-touchspin.js"></script>
    <script src="/js/scripts/forms/form-wizard.js"></script>
    <!-- END: Page JS-->
    <script>
      $(window).on('load', function () {
        if (feather) {
          feather.replace({
            width: 14,
            height: 14,
          });
        }
      });

      const socket = io('/');
      socket.on('connect', () => {
        console.log(socket.id);
      });
      socket.on('finish-load-data', (data) => {
        console.log(data);
        // if (data.page !== '/') {
        //   window.location.replace(data.page + '?file=' + data.file);
        // } else {
        //   window.location.replace(data.page);
        // }
      });
    </script>
  </body>
  <!-- END: Body-->
</html>
